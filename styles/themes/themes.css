/* ===== ТЕМЫ И ТЕМАТИЧЕСКИЕ СТИЛИ ===== */

/* Фон всей страницы из primary цвета */
body.theme-active {
  background-color: var(--theme-primary) !important;
  transition: background-color 0.5s ease;
}

.header-main.theme-active {
  background: color-mix(in srgb, var(--theme-primary) 95%, black);
}

.text-gradient-primary.theme-active {
  color: var(--theme-text) !important;
  background: none !important;
}

.content-card.theme-active {
  background: linear-gradient(145deg, 
    color-mix(in srgb, var(--theme-secondary) 80%, transparent),
    color-mix(in srgb, var(--theme-secondary) 90%, transparent)
  );
  border-color: color-mix(in srgb, var(--theme-text) 20%, transparent);
}

.content-card-title.theme-active {
  color: var(--theme-text);
}

.card-animated.theme-active {
  background: linear-gradient(145deg, 
    color-mix(in srgb, var(--theme-secondary) 80%, transparent),
    color-mix(in srgb, var(--theme-secondary) 90%, transparent)
  );
  border-color: color-mix(in srgb, var(--theme-text) 20%, transparent);
}

/* Баннер оверлей */
.banner-overlay.theme-active {
  background: linear-gradient(to top, 
    color-mix(in srgb, var(--theme-primary) 95%, black) 0%, 
    color-mix(in srgb, var(--theme-primary) 70%, black) 50%,
    transparent 100%
  );
}

.table-header-row.theme-active {
  background: color-mix(in srgb, var(--theme-accent) 20%, transparent);
}

.table-header-cell.theme-active {
  color: var(--theme-text);
  border-bottom-color: color-mix(in srgb, var(--theme-text) 20%, transparent);
}

.table-body-row.theme-active:hover {
  background: color-mix(in srgb, var(--theme-accent) 10%, transparent);
}

.table-body-cell.theme-active {
  border-bottom: 1px solid color-mix(in srgb, var(--theme-text) 10%, transparent);
}

.table-container.theme-active::-webkit-scrollbar-track {
  background: color-mix(in srgb, var(--theme-text) 10%, transparent);
}

.table-container.theme-active::-webkit-scrollbar-thumb {
  background: color-mix(in srgb, var(--theme-accent) 80%, transparent);
}

.modal-content-base.theme-active {
  background: linear-gradient(145deg, 
    color-mix(in srgb, var(--theme-secondary) 80%, transparent),
    color-mix(in srgb, var(--theme-secondary) 90%, transparent)
  );
  border-color: color-mix(in srgb, var(--theme-text) 20%, transparent);
}

.modal-title.theme-active {
  color: var(--theme-text);
}

.modal-close-btn.theme-active:hover {
  background: color-mix(in srgb, var(--theme-accent) 20%, transparent);
  color: var(--theme-accent);
}

.section-title.theme-active {
  color: var(--theme-text);
}

.scrollbar-custom.theme-active {
  scrollbar-color: color-mix(in srgb, var(--theme-accent) 80%, transparent) 
                   color-mix(in srgb, var(--theme-text) 10%, transparent);
}

.scrollbar-custom.theme-active::-webkit-scrollbar-track {
  background: color-mix(in srgb, var(--theme-text) 10%, transparent);
}

.scrollbar-custom.theme-active::-webkit-scrollbar-thumb {
  background: color-mix(in srgb, var(--theme-accent) 80%, transparent);
}

.scrollbar-custom.theme-active::-webkit-scrollbar-thumb:hover {
  background: color-mix(in srgb, var(--theme-accent) 100%, transparent);
}

.status-alive.theme-active { 
  color: var(--theme-text); 
}
.status-dead.theme-active { 
  color: var(--theme-text); 
}
.status-lost.theme-active { 
  color: var(--theme-text); 
}
.status-left.theme-active { 
  color: var(--theme-text); 
}

.icon-link-discord.theme-active {
  color: var(--theme-text);
}

.icon-link-discord.theme-active:hover {
  color: var(--theme-text);
}

.footer-main.theme-active {
  background: color-mix(in srgb, var(--theme-primary) 95%, black);
  border-top-color: color-mix(in srgb, var(--theme-text) 20%, transparent);
}

.footer-highlight.theme-active {
  color: var(--theme-text);
}

.footer-creator.theme-active {
  color: var(--theme-text);
}

.loader.theme-active {
  border-color: color-mix(in srgb, var(--theme-accent) 20%, transparent);
  border-top-color: var(--theme-accent);
}

/* НОВЫЕ СТИЛИ ДЛЯ КНОПОК С ТЕМОЙ */
.btn-theme-primary {
  background: var(--btn-theme-bg) !important;
  color: var(--btn-theme-text) !important;
  border-color: color-mix(in srgb, var(--theme-text) 20%, transparent) !important;
}

.btn-theme-primary:hover {
  background: var(--btn-theme-hover) !important;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px color-mix(in srgb, var(--theme-primary) 30%, transparent);
}

.btn-theme-primary:active {
  background: var(--btn-theme-active) !important;
  transform: translateY(0);
}

/* Кнопки сезонов в теме */
.btn-state-active.theme-active {
  background: var(--btn-theme-bg) !important;
  color: var(--btn-theme-text) !important;
  border-color: color-mix(in srgb, var(--theme-text) 30%, transparent) !important;
}

.btn-state-inactive.theme-active {
  background: color-mix(in srgb, var(--theme-secondary) 20%, transparent) !important;
  color: var(--theme-text) !important;
  border-color: color-mix(in srgb, var(--theme-text) 10%, transparent) !important;
}

.btn-state-inactive.theme-active:hover {
  background: color-mix(in srgb, var(--theme-secondary) 30%, transparent) !important;
}

/* Стили для таблички гайдов в теме */
.guide-table-row.theme-active {
  background: linear-gradient(90deg, 
    color-mix(in srgb, var(--theme-secondary) 20%, transparent),
    color-mix(in srgb, var(--theme-secondary) 10%, transparent)
  ) !important;
  border-bottom-color: color-mix(in srgb, var(--theme-text) 5%, transparent) !important;
}

.guide-table-row.theme-active:hover {
  background: linear-gradient(90deg, 
    color-mix(in srgb, var(--theme-secondary) 30%, transparent),
    color-mix(in srgb, var(--theme-secondary) 20%, transparent)
  ) !important;
}

.guide-description.theme-active {
  border-left-color: color-mix(in srgb, var(--theme-accent) 30%, transparent) !important;
}

/* СТИЛИ ДЛЯ НОВЫХ ЭЛЕМЕНТОВ В ТЕМЕ */

/* Изображения в теме */
.image-inline.theme-active img {
  box-shadow: 0 10px 25px -5px color-mix(in srgb, var(--theme-primary) 20%, transparent);
  border: 1px solid color-mix(in srgb, var(--theme-text) 10%, transparent);
}

.image-subtext.theme-active {
  color: color-mix(in srgb, var(--theme-text) 70%, transparent);
}

/* Collapsible sections в теме */
.collapsible-toggle-inline.theme-active {
  color: var(--theme-text) !important;
}

.collapsible-toggle-inline.theme-active:hover {
  background: color-mix(in srgb, var(--theme-primary) 10%, transparent) !important;
}

.collapsible-toggle-inline.collapsible-active.theme-active {
  background: color-mix(in srgb, var(--theme-primary) 15%, transparent) !important;
}

.collapsible-toggle-inline .collapsible-arrow-inline.theme-active {
  color: var(--theme-text);
}

.collapsible-content-inline.theme-active > div {
  background: color-mix(in srgb, var(--theme-primary) 5%, transparent) !important;
  border-left-color: color-mix(in srgb, var(--theme-accent) 50%, transparent) !important;
  color: var(--theme-text) !important;
}

/* Подсказки в теме */
.hint-tooltip.theme-active {
  border-bottom-color: color-mix(in srgb, var(--theme-accent) 50%, transparent);
}

.hint-tooltip.theme-active:hover {
  border-bottom-color: var(--theme-accent);
}

.tooltip-popup.theme-active {
  background: color-mix(in srgb, var(--theme-secondary) 90%, transparent) !important;
  border-color: color-mix(in srgb, var(--theme-text) 20%, transparent) !important;
  color: var(--theme-text) !important;
}

.tooltip-popup.theme-active::before {
  border-top-color: color-mix(in srgb, var(--theme-text) 20%, transparent) !important;
}

/* Разделители в теме */
.full-divider.theme-active {
  background: linear-gradient(to right, 
    transparent, 
    color-mix(in srgb, var(--theme-text) 50%, transparent), 
    transparent
  );
}

.partial-divider.theme-active {
  background: color-mix(in srgb, var(--theme-text) 30%, transparent);
}

/* ДУБЛИРУЮЩИЕСЯ СТИЛИ ИЗ OFFICIAL-PAGE.CSS - теперь будут использоваться отсюда */

/* Спойлеры - перенесены сюда для поддержки темы */
.spoiler {
  background-color: rgba(45, 45, 45, 0.85);
  color: rgba(45, 45, 45, 0.85);
  border-radius: 4px;
  padding: 2px 4px;
  cursor: help;
  transition: color 0.2s ease, background-color 0.2s ease;
}

.spoiler.revealed {
  color: #f8fafc !important;
  background-color: rgba(85, 85, 85, 0.85) !important;
}

/* Стили спойлеров для темы */
.spoiler.theme-active {
  background-color: color-mix(in srgb, var(--theme-primary) 10%, transparent);
  color: color-mix(in srgb, var(--theme-primary) 10%, transparent);
}

.spoiler.theme-active.revealed {
  color: var(--theme-text) !important;
  background-color: color-mix(in srgb, var(--theme-primary) 20%, transparent) !important;
  border: 1px solid color-mix(in srgb, var(--theme-accent) 30%, transparent);
}